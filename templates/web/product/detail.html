{% extends "web/base.html" %}
{% load static %}

{% block content %}     
<link rel="stylesheet" type="text/css" href="{% static 'web/assets/css/main.css' %}">       
<style>
    .first-screen {
        display: none;
    }
    .main-block__top {
        display: none;
    }
    .load-more {
        display: none;
    }
</style>

<div class="page-container">

    <!-- BEGIN HEADER -->

    <!-- HEADER END --> 
    
    <!-- MOBILE NAVIGATION -->

    <!-- MOBILE NAVIGATION END -->       

    <!-- BEGIN MAIN -->
    <main class="main">              

        <!-- BEGIN INNER TOP -->
        <div class="inner-top">
            <div class="inner-top__main wrapper">
                <div class="inner-top__cols">
                    <div class="inner-top__left">
                        <h1 class="inner-top__title">Shop</h1>
                        <div class="breadcrumbs">
                            <ul class="breadcrumbs__list">
                                <li class="breadcrumbs__item">
                                    <a class="breadcrumbs__link" href="#">Home</a>
                                </li>
                                <li class="breadcrumbs__item">
                                    <a class="breadcrumbs__link" href="#">Shop</a>
                                </li> 
                                <li class="breadcrumbs__item">Fashionee - catton shirt</li>                               
                            </ul>
                        </div>
                    </div>
                    <div class="inner-top__right">
                        <div class="inner-top__image" data-bg="{% static 'web/assets/img/svg/banner-shop.jpg' %}"></div>
                    </div>                        
                </div>
                <img class="inner-top__bg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=" data-lazy="{% static 'web/assets/img/svg/vector-inner-top.svg' %}" alt="">
            </div>
        </div>
        <!-- INNER TOP END -->

        <!-- BEGIN PRODUCT CARD -->
        <section class="product wrapper">
            <div class="product__cols">

                <!-- BEGIN LEFT COLUMN -->
                <div class="product__left">
                    <div class="product__mob js-to-3"></div>
                    <div class="product-gallery">
                        <div class="product-gallery__top">
                            <div class="product-gallery__cols">
                                <div class="product-gallery__col">
                                    <button class="favorite-button js-toggle-active"></button>
                                </div>                                
                            </div>
                        </div>
                        <div class="product-slider loaded js-product-slider dots-2 dots-left">
                            <div class="product-slider__item">
                                <a class="product-slider__link" href="{{product.image_max.url}}" data-fancybox="gallery">
                                    <img class="product-slider__image" src="{{product.image_max.url}}" alt="">
                                </a>
                            </div>
                            <div class="product-slider__item">
                                <a class="product-slider__link" href="{{product.image_max.url}}" data-fancybox="gallery">
                                    <img class="product-slider__image" src="{{product.image_max.url}}" alt="">
                                </a>
                            </div>
                            <div class="product-slider__item">
                                <a class="product-slider__link" href="{{product.image_max.url}}" data-fancybox="gallery">
                                    <img class="product-slider__image" src="{{product.image_max.url}}" alt="">
                                </a>
                            </div>                                                        
                        </div>
                    </div>
                </div>
                <!-- LEFT COLUMN END -->

                <!-- BEGIN RIGHT COLUMN -->
                <div class="product__right">
                    <div class="product__content">
                        <div class="product__desktop js-from-3">
                            <div class="product__top js-content-3">
                                <h2 class="product__title">{{product.title}}</h2>
                                <div class="product-rating">
                                    <div class="product-rating__col">
                                        <div class="product-rating__stars rating rating_medium">
                                            <input class="star" name="product-rating" type="radio" disabled>
                                            <input class="star" name="product-rating" type="radio" disabled>
                                            <input class="star" name="product-rating" type="radio" disabled>
                                            <input class="star" name="product-rating" type="radio" disabled>
                                            <input class="star" name="product-rating" type="radio" checked disabled>                          
                                        </div>                                     
                                    </div>
                                    <div class="product-rating__col">
                                        <span class="product-rating__text">3 customers left feedback</span>
                                    </div>                                
                                </div>
                            </div>
                        </div>
                        <p class="product__text">Description: <br><b>{{product.description}}</b></p>
                        <ul class="chars">
                            <li class="chars__item">
                                <span class="chars__name">Category: </span>
                                <span class="chars__text">
                                    <span class="chars__status"><b>{{product.category}}</b></span>
                                </span>
                            </li>                      
                        </ul>
                        <div class="product__prices">
                            <span class="product__price">{{product.price}} sum</span>
                        </div>
                        <ul class="size">
                            <li class="size__item">
                                <label class="size__label">
                                    <input class="size__input" type="radio" name="size">
                                    <span class="size__bg"></span>
                                    <span class="size__text">S</span>
                                </label>
                            </li>
                            <li class="size__item">
                                <label class="size__label">
                                    <input class="size__input" type="radio" name="size" checked>
                                    <span class="size__bg"></span>
                                    <span class="size__text">M</span>
                                </label>
                            </li> 
                            <li class="size__item">
                                <label class="size__label">
                                    <input class="size__input" type="radio" name="size">
                                    <span class="size__bg"></span>
                                    <span class="size__text">XL</span>
                                </label>
                            </li>
                            <li class="size__item">
                                <label class="size__label">
                                    <input class="size__input" type="radio" name="size">
                                    <span class="size__bg"></span>
                                    <span class="size__text">XXL</span>
                                </label>
                            </li>                                                  
                        </ul>                        
                    </div>
                    <div class="product-add">
                        <div class="product-add__col">
                            <div class="product-add__count count js-count">
                                <button type="button" id="minus" class="quantity-left-minus count__button count__button_minus"></button>
                                <input name="number" class="count__input js-count-input js-number product_quantity_number" type="text" value="1" id="quan">
                                <button type="button" data-pid="{{product.id}}" class=" quantity-right-plus count__button count__button_plus" id="plus"></button>
                            </div>
                        </div>
                        <div class="product-add__col">
                            <button class="product-add__button button">
                                <span id="add" data-price="{{product.price}}" class="button__text">Add to cart</span>
                            </button>
                        </div>                    
                    </div>
                </div>
                <script>
                    let plus = document.querySelector('#plus')
                    let minus = document.querySelector('#minus')
                    let quan = document.querySelector('#quan')
                    plus.addEventListener('click', ()=> {
                            quan.value = +quan.value + 1
                    })
                    minus.addEventListener('click', ()=> {
                        if (quan.value > 1) {
                            quan.value = +quan.value - 1
                        }
                    })
                    let add = document.querySelector('#add')
                    
                    add.addEventListener('click', ()=> {
                        document.querySelector('#cart_count').innerText = +document.querySelector('#cart_count').innerText + +quan.value
                        
                        
                        // document.querySelector('#cart_sum').innerText = +document.querySelector('#cart_sum').innerText + (+quan.value * +add.dataset.price)
                        console.log(1);
                        fetch("/add/", {
                            method: "POST",
                            headers: {
                                "Content-Type": "application/json",
                                "X-CSRFToken": csrftoken
                            },
                            body: JSON.stringify({
                                productId: plus.dataset.pid,
                                quantity: quan.value
                            })
                        }).then(resp => resp.json()).then(data => console.log(data))
                        quan.value = 1
                    })
                </script>    
                <!-- RIGHT COLUMN END -->

            </div>
            <img class="product__vector" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=" data-lazy="{% static 'web/assets/img/svg/vector-product.svg' %}" alt="">
        </section>
        <!-- PRODUCT CARD END -->

        <!-- BEGIN PRODUCT TABS -->
        <div class="product-tabs wrapper">

            <div class="product-nav tabs-nav js-line">
                <ul class="product-nav__list tabs-nav__list tabs-nav__list_left">
                    <li class="tabs-nav__item js-tabs-item js-line-item">
                        <a class="tabs-nav__link js-line-link js-tabs-link" href="#product-tab-1">Reviews</a>
                    </li>
                </ul>
                <div class="tabs-nav__line js-line-element"></div>
            </div>

            <!-- BEGIN DESCRIPTION -->
            <div class="product-tab js-tabs-content" id="product-tab-1">

            </div>
            <!-- DESCRIPTION END -->

            <!-- BEGIN REVIEWS -->
            <div class="product-tab js-tabs-content active" id="product-tab-2">
                <div class="product-tab__cols">

                    <!-- BEGIN REVIEWS -->
                    <div class="product-tab__left">
                        <div class="reviews">
                            <article class="review">
                                <div class="review__top">
                                    <div class="review__left">
                                        <div class="review__cols">
                                            <div class="review__col">
                                                <h5 class="review__author">Melissa Johnson</h5>
                                            </div>
                                            <div class="review__col">
                                                <span class="review__date">Aug 02, 2020</span>
                                            </div>
                                            <div class="review__col">
                                                <div class="review__rating rating rating_small">
                                                    <input class="star" name="review-rating-1" type="radio" disabled>
                                                    <input class="star" name="review-rating-1" type="radio" disabled>
                                                    <input class="star" name="review-rating-1" type="radio" disabled>
                                                    <input class="star" name="review-rating-1" type="radio" disabled>
                                                    <input class="star" name="review-rating-1" type="radio" checked disabled>                          
                                                </div>                                                    
                                            </div>
                                        </div>
                                    </div>
                                    <div class="review__right">
                                        <a class="review__button reply-button" href="#"></a>
                                    </div>
                                </div>
                                <p class="review__text">Proident voluptate adipisicing ullamco veniam incididunt laboris nulla elit et anim tempor duis dolor nostrud. Ad eiusmod laborum deserunt id eiusmod. Eiusmod ea aute ex et nisi exercitation eu fugiat.</p>
                            </article>
                            <article class="review review_reply">
                                <div class="review__top">
                                    <div class="review__left">
                                        <div class="review__cols">
                                            <div class="review__col">
                                                <h5 class="review__author">Patrik Filips</h5>
                                            </div>
                                            <div class="review__col">
                                                <span class="review__date">Jul 12, 2020</span>
                                            </div>
                                            <div class="review__col">
                                                <div class="review__rating rating rating_small">
                                                    <input class="star" name="review-rating-2" type="radio" disabled>
                                                    <input class="star" name="review-rating-2" type="radio" disabled>
                                                    <input class="star" name="review-rating-2" type="radio" disabled>
                                                    <input class="star" name="review-rating-2" type="radio" disabled>
                                                    <input class="star" name="review-rating-2" type="radio" checked disabled>                          
                                                </div>                                                    
                                            </div>
                                        </div>
                                    </div>
                                    <div class="review__right">
                                        <a class="review__button reply-button" href="#"></a>
                                    </div>
                                </div>
                                <p class="review__text">Proident voluptate adipisicing ullamco veniam incididunt laboris nulla elit et anim tempor. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Lorem ipsum dolor sit amet consectetur adipisicing elit. Reprehenderit, repudiandae.</p>
                            </article>  
                            <article class="review">
                                <div class="review__top">
                                    <div class="review__left">
                                        <div class="review__cols">
                                            <div class="review__col">
                                                <h5 class="review__author">Oliver Jenkins</h5>
                                            </div>
                                            <div class="review__col">
                                                <span class="review__date">May 15, 2020</span>
                                            </div>
                                            <div class="review__col">
                                                <div class="review__rating rating rating_small">
                                                    <input class="star" name="review-rating-3" type="radio" disabled>
                                                    <input class="star" name="review-rating-3" type="radio" disabled>
                                                    <input class="star" name="review-rating-3" type="radio" disabled>
                                                    <input class="star" name="review-rating-3" type="radio" disabled>
                                                    <input class="star" name="review-rating-3" type="radio" checked disabled>                          
                                                </div>                                                    
                                            </div>
                                        </div>
                                    </div>
                                    <div class="review__right">
                                        <a class="review__button reply-button" href="#"></a>
                                    </div>
                                </div>
                                <p class="review__text">Proident voluptate adipisicing ullamco veniam incididunt laboris nulla elit et anim tempor duis dolor nostrud. Ad eiusmod laborum deserunt id eiusmod. Eiusmod ea aute ex et nisi exercitation eu fugiat.</p>
                            </article>                                                          
                        </div>
                    </div>
                    <!-- REVIEWS END -->

                    <!-- BEGIN ADD REVIEW -->

                    <!-- ADD REVIEW END -->

                </div>
            </div>
            <!-- REVIEWS END -->                

        </div> 
        <!-- PRODUCT TABS END -->

        <!-- BEGIN BEST SELLERS -->

        <!-- BEST SELLERS END -->

    </main>
    <!-- MAIN END -->
    
    <!-- BEGIN FOOTER -->

    <!-- FOOTER END -->       

</div> 

   

<script src="{% static 'web/assets/js/libs/jquery-3.5.1.min.js' %}"></script> 
<script src="{% static 'web/assets/js/libs/jquery-migrate-1.4.1.min.js' %}"></script>   
<script src="{% static 'web/assets/js/components/slick.js' %}"></script>
<script src="{% static 'web/assets/js/components/formstyler.js' %}"></script>
<script src="{% static 'web/assets/js/components/rating.js' %}"></script>
<script src="{% static 'web/assets/js/components/fancybox.js' %}"></script>
<script src="{% static 'web/assets/js/main.js' %}"></script>  



{% endblock content %}